<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane minHeight="600" minWidth="800" style="-fx-background-color: linear-gradient(to bottom right, #f8f8f8, #f5f9ff);" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.project_csen_275.GardenControllerFX">

    <top>
        <VBox alignment="CENTER" spacing="8">
            <padding>
                <Insets bottom="8" left="15" right="15" top="12" />
            </padding>

            <HBox alignment="CENTER" spacing="10">
                <HBox.hgrow>ALWAYS</HBox.hgrow>
                <Text style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-fill: #2e7d32;" wrappingWidth="252.205078125">ðŸŒ± Garden Simulator ðŸŒ±
                </Text>
                <VBox alignment="CENTER_RIGHT" spacing="5" style="-fx-background-color: rgba(232, 245, 233, 0.8); -fx-background-radius: 8; -fx-border-color: #81c784; -fx-border-radius: 8; -fx-border-width: 1; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 1);">
                    <padding>
                        <Insets bottom="5" left="10" right="10" top="5" />
                    </padding>
                    <HBox alignment="CENTER_RIGHT" spacing="5">
                        <Text style="-fx-font-size: 14px;" />
                        <Text fx:id="gameTimeText" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-fill: #6a1b9a;" text="Day 1, 6:00 AM" />
                    </HBox>
                    <HBox alignment="CENTER_RIGHT" spacing="5">
                        <Text style="-fx-font-size: 12px;" text="â°" />
                        <Text fx:id="sessionTimeText" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-fill: #37474f;" text="Session: 0h 0m" />
                    </HBox>
                </VBox>
                <padding>
                    <Insets bottom="0" left="100" right="10" top="0" />
                </padding>
            </HBox>

            <HBox alignment="CENTER" spacing="10">
                <HBox.hgrow>ALWAYS</HBox.hgrow>
                <Text fx:id="statusText" style="-fx-font-size: 14px; -fx-fill: #37474f;">Welcome to your garden!</Text>
            </HBox>

            <StackPane>
                <Separator style="-fx-background-color: #81c784;">
                    <padding>
                        <Insets bottom="8" top="8" />
                    </padding>
                </Separator>

                <HBox alignment="CENTER_RIGHT" maxWidth="Infinity">
                    <StackPane.alignment>CENTER_RIGHT</StackPane.alignment>
                    <padding>
                        <Insets right="15" />
                    </padding>
                </HBox>
            </StackPane>
        </VBox>
    </top>

    <center>
        <StackPane>
            <children>
                <ScrollPane fitToHeight="true" fitToWidth="true" pannable="true" style="-fx-background-color: transparent;">
                    <VBox alignment="CENTER">
                        <padding>
                            <Insets bottom="5" left="5" right="5" top="5" />
                        </padding>
                        <GridPane fx:id="gardenGrid" alignment="CENTER" hgap="8" style="-fx-background-color: linear-gradient(to bottom right, #e8f5e9, #e0f2f1); -fx-padding: 12; -fx-background-radius: 12; -fx-border-color: #81c784; -fx-border-radius: 12; -fx-border-width: 2; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 10, 0, 0, 2);" vgap="8">
                            <padding>
                                <Insets bottom="10" left="10" right="10" top="10" />
                            </padding>
                        </GridPane>
                    </VBox>
                </ScrollPane>
                <ImageView fx:id="eventImageView" fitHeight="90" fitWidth="90" preserveRatio="false" visible="false" StackPane.alignment="TOP_LEFT">
                    <StackPane.margin>
                        <Insets left="10" top="10" />
                    </StackPane.margin>
                    <effect>
                        <javafx.scene.effect.DropShadow color="rgba(0,0,0,0.3)" radius="5" />
                    </effect>
                </ImageView>
            </children>
        </StackPane>
    </center>

    <bottom>
        <ScrollPane fitToWidth="true" hbarPolicy="AS_NEEDED" style="-fx-background-color: transparent; -fx-background: transparent;" vbarPolicy="NEVER">
            <VBox alignment="CENTER" spacing="10" style="-fx-background-color: linear-gradient(to bottom, #f0f7ff, #e8f0fe); -fx-border-color: #c5cae9; -fx-border-width: 1 0 0 0;">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>

                <HBox alignment="CENTER" spacing="12" style="-fx-padding: 10; -fx-background-color: #e8f5e9; -fx-background-radius: 10; -fx-border-color: #c8e6c9; -fx-border-radius: 10; -fx-border-width: 1; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 6, 0, 0, 1);">
                    <HBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-weight: bold;" text="ðŸŒ± Selected Plant:" textFill="#2f4d31" />
                        <ComboBox fx:id="plantTypeComboBox" prefWidth="150" promptText="Choose a plant" />
                        <Button onAction="#onPlantSelected" style="-fx-base: #a5d6a7; -fx-font-weight: bold; -fx-background-radius: 5; -fx-text-fill: #1b5e20;" text="Plant Selected" />
                    </HBox>

                    <HBox alignment="CENTER" spacing="10">
                        <Label style="-fx-font-weight: bold;" text="ðŸ”® Trigger Event:" textFill="#ee1616" />
                        <ComboBox fx:id="eventComboBox" prefWidth="150" promptText="Choose an event" />
                        <Button onAction="#onTriggerEvent" style="-fx-base: #ffd54f; -fx-font-weight: bold; -fx-background-radius: 5; -fx-text-fill: #663c00;" text="Trigger Event" />
                    </HBox>
                </HBox>

                <HBox alignment="CENTER" spacing="10" style="-fx-padding: 5;">
                    <Button onAction="#onUpdate" style="-fx-base: #bbdefb; -fx-font-weight: bold; -fx-background-radius: 5;" text="ðŸ”„ Update Garden" />
                    <Button onAction="#onWaterAll" style="-fx-base: #90caf9; -fx-font-weight: bold; -fx-background-radius: 5;" text="ðŸ’§ Water All" />
                    <Button onAction="#onAddPest" style="-fx-base: #ffcc80; -fx-font-weight: bold; -fx-background-radius: 5;" text="ðŸ› Add Pests" />
                    <Button fx:id="helpButton" onAction="#onHelp" style="-fx-base: gold; -fx-text-fill: black; -fx-font-weight: bold; -fx-background-radius: 5;" text="â“ Help" />
                    <Button onAction="#onRemovePests" style="-fx-base: #ef9a9a; -fx-font-weight: bold; -fx-background-radius: 5;" text="ðŸ” Remove Bugs" />
                </HBox>

                <Separator style="-fx-background-color: #c5cae9;">
                    <padding>
                        <Insets bottom="3" top="3" />
                    </padding>
                </Separator>

                <HBox alignment="CENTER" spacing="15" style="-fx-padding: 10; -fx-background-color: linear-gradient(to right, #e0f7fa, #bbdefb); -fx-background-radius: 10; -fx-border-color: #b2ebf2; -fx-border-radius: 10; -fx-border-width: 1; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 6, 0, 0, 1);">
                    <ToggleButton fx:id="automationToggle" onAction="#onToggleAutomation" style="-fx-base: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 15px; -fx-padding: 10px 15px; -fx-background-radius: 8; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 4, 0, 0, 1);" text="â–¶ï¸ Start Automation" />
                    <Label style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #01579b;" text="Automation will water plants and update garden automatically" wrapText="true" />
                </HBox>
            </VBox>
        </ScrollPane>
    </bottom>

    <right>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent; -fx-background: transparent;" vbarPolicy="AS_NEEDED">
            <VBox alignment="TOP_CENTER" maxWidth="300" minWidth="200" prefWidth="250" spacing="10" style="-fx-background-color: #f1f8e9; -fx-padding: 15; -fx-background-radius: 10 0 0 10; -fx-border-color: #dcedc8; -fx-border-width: 2 0 2 2; -fx-border-radius: 10 0 0 10;">
                <padding>
                    <Insets bottom="8" left="8" right="8" top="8" />
                </padding>

                <!-- Stats Section -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2e7d32;" text="ðŸŒ¿ Garden Stats" />
                </HBox>

                <VBox fx:id="statsBox" alignment="TOP_LEFT" spacing="8">
                    <GridPane hgap="10" vgap="5">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="80" prefWidth="100" />
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="50" prefWidth="80" />
                        </columnConstraints>

                        <Label style="-fx-font-style: italic;" text="Plants:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <Label fx:id="plantsCount" style="-fx-font-weight: bold;" text="0" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <Label style="-fx-font-style: italic;" text="Water Level:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <Label fx:id="waterLevel" style="-fx-font-weight: bold;" text="0%" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                        <Label style="-fx-font-style: italic;" text="Health:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <Label fx:id="healthLevel" style="-fx-font-weight: bold;" text="0%" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                        <Label style="-fx-font-style: italic;" text="Fertilizer:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                        <Label fx:id="fertilizerLevel" style="-fx-font-weight: bold;" text="0%" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                        <rowConstraints>
                            <RowConstraints />
                            <RowConstraints />
                            <RowConstraints />
                            <RowConstraints />
                        </rowConstraints>
                    </GridPane>
                </VBox>

                <Separator style="-fx-background-color: #c8e6c9;" />

                <!-- Activity Log Section -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2e7d32;" text="ðŸ“ Activity Log" />
                </HBox>

                <TextArea fx:id="logTextArea" editable="false" maxHeight="250" minHeight="150" prefHeight="180" style="-fx-control-inner-background: #f8fff8; -fx-background-radius: 5; -fx-border-radius: 5; -fx-border-color: #c8e6c9;" wrapText="true" VBox.vgrow="ALWAYS" />
            </VBox>
        </ScrollPane>
    </right>

</BorderPane>
